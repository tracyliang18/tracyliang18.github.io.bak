<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8"  />
<meta name="description" content="Tracyliang's Codes" />
<meta name="keywords" content="life,code,software,development,photography" />
<meta name="author" content="tracyliang" />
<link rel="stylesheet" type="text/css" href="/css/default.css" />
<link rel="stylesheet" type="text/css" href="/css/pretty_code.css" />
<link rel="alternate" type="application/atom+xml" href="http://tracyliang18.github.com/atom.xml" />

<title>You may say I am a dreamer, but I am not the only one. - tracyliang's tech blog</title>
</head>

<body>
<div id="wrap">
	<div id="header">
		<p id="toplinks">

		</p>

		<h1><a href="/"><div id="logo"></div>Dreamer<span class="fade">Museum</span></a></h1>
		<div class="slogan">
				<a href="/Coder.html" class="pink">Coder</a> :|: 
				<a href="/Cser.html" class="green">Cser</a> :|: 
                <a href="/Lifer.html" class="orange">Lifer</a>
		</div>

</div>

<div id="content">  
  <div id="post">
<p>
一直以来用python都是边查边用，而且都是用在日常的小脚本而已，用过写过一个计算机网络的课程设计，感觉蛮爽，但一直都是感觉处于这种不熟练、不精通的感觉。

最近在看python实现的design pattern代码，上述的缺点马上无所遁形。上一个visitor模式代码：
</P>
<pre class="python" name="code">
class Node(object): pass
class A(Node): pass
class B(Node): pass
class C(A,B): pass

class Visitor(object):
    def visit(self, node, *args, **kwargs):
        meth = None
        for cls in node.__class__.__mro__:
            meth_name = 'visit_'+cls.__name__
            meth = getattr(self, meth_name, None)
            if meth:
                break

        if not meth:
            meth = self.generic_visit
        return meth(node, *args, **kwargs)

    def generic_visit(self, node, *args, **kwargs):
        print('generic_visit '+node.__class__.__name__)

    def visit_B(self, node, *args, **kwargs):
        print('visit_B '+node.__class__.__name__)
        



a = A()
b = B()
c = C()
visitor = Visitor()
visitor.visit(a)
visitor.visit(b)
visitor.visit(c)
 </pre>

<pre class="python" name="code"><code>
print "hello"
</code></pre>

<pre class="bash" name="code">
cd abc
echo avc
diff a, v
</pre>

<pre>
<code>
#include "stdio.h"
int main()
{
    printf("hello world\n");

    return 0;
}
</code>
</pre>
vistor 模式，举个好理解的例子：
习总要到不同国家访问，所用的外交策略肯定是不一样的，在美国面前就是小熊维尼，在日本面前就是绿巨人。不同国家有相应的一套东西迎接中国来访。

从程序设计的角度去理解，习总这个对象，拥有访问不同国家的方法，而各国有一个名为accpet的方法去接待习总，当然具体实现肯定不一样啦。把各个国家对象合并到一个对象集，把习总这个对象传到这个对象集里，即实现visitor模式。

其实上述的东西很好理解，（设计模式的东西都很好理解，只是在恰当的时机恰好地选择运用恰当的模式，很难），但我看到诸如node.__class__.__mro__，cls.__name__这样的设计到python自带属性和方法，就感觉自己真的一点都不懂python。。

( python attributes and methods)[http://www.cafepy.com/article/python_attributes_and_methods/python_attributes_and_methods.html]

看上去是个不错的教程，先看看。。稍后更新

</div>

<div id="related">
  <h3>Possibly Related Posts</h3>
  <ul class="posts">
    
      <li><span>13 Jun 2013</span> &raquo; <a href="/all/rails/2013/06/13/prose-io.html">Prose Io</a></li>
    
      <li><span>30 May 2013</span> &raquo; <a href="/all/os/2013/05/30/the-nature-of-code.html">the nature of code learning</a></li>
    
      <li><span>28 May 2013</span> &raquo; <a href="/all/os/2013/05/28/open-source-game.html">open source game!</a></li>
    
  </ul>
</div>

<link rel="stylesheet" href="/css/styles/googlecode.css" type="text/css" media="screen, projection"/>
<script src="/javascript/highlight.pack.js" type="text/javascript""></script>
<script>hljs.initHighlightingOnLoad();</script>


<!-- This is for code colorization which doesn't seem to work very well in IE... i guess I don't care very much -->
<link rel="stylesheet" href="/css/styles/default.css">                        
<script src="/javascript/highlight.pack.js"></script>                                                  <script>hljs.initHighlightingOnLoad();</script> 
<script language="javascript" src="http://communicatopia.s3.amazonaws.com/js/shCore.js"></script>
<script language="javascript" src="http://communicatopia.s3.amazonaws.com/js/shBrushRuby.js"></script>
<script language="javascript" src="http://communicatopia.s3.amazonaws.com/js/shBrushPhp.js"></script>
<script language="javascript" src="http://communicatopia.s3.amazonaws.com/js/shBrushXml.js"></script>
<script language="javascript" src="http://communicatopia.s3.amazonaws.com/js/shBrushCss.js"></script>
<script language="javascript" src="http://communicatopia.s3.amazonaws.com/js/shBrushBash.js"></script>
<script language="javascript" src="http://communicatopia.s3.amazonaws.com/js/shBrushJScript.js"></script>
<script language="javascript" src="http://communicatopia.s3.amazonaws.com/js/shBrushPython.js"></script>
<script language="javascript" src="http://communicatopia.s3.amazonaws.com/js/shBrushC.js"></script>
<script language="javascript">
dp.SyntaxHighlighter.ClipboardSwf = 'http://communicatopia.s3.amazonaws.com/js/clipboard.swf';
//name, showGutter, showControls, collapseAll, firstLine , showColumns
dp.SyntaxHighlighter.HighlightAll('code',false, false,false,1,false);
</script>

</div>

<div id="footer">

    <a href="http://www.facebook.com/tracyliang">facebook</a> ||
    <a href="http://www.renren.com/347806128/">renren</a>

<p>&copy; 2013 <a href="/about.html">tracyliang</a>

</div>

</div>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-4105222-2");
pageTracker._trackPageview();
} catch(err) {}</script>
</body>
</html>

